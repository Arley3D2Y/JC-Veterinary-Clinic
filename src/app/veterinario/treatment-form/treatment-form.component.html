<h1>{{ operation | titlecase }} tratamiento para {{ pet.nombre }}</h1>

<!-- Formulario -->
<form #petForm="ngForm" (ngSubmit)="saveTreatment(petForm)">
    <div class="form-floating mb-3">
        <input [(ngModel)]="formTreatment.descripcion" type="text" class="form-control" id="floatingDescripci贸n"
            placeholder="Descripci贸n" name="observaciones">
        <label for="floatingDescripci贸n">Descripci贸n</label>
    </div>

    <div class="form-floating mb-3">
        <textarea rows="10" [(ngModel)]="formTreatment.observaciones" class="form-control custom-textarea" id="floatingObservaciones"
            placeholder="Observaciones" name="descripcion"></textarea>
        <label for="floatingObservaciones">Observaciones</label>
    </div>

    <div class="d-flex flex-row gap-4">
        <div class="form-floating mb-3" style="width: 46.5%;">
            <input [(ngModel)]="formTreatment.fechaInicio" type="date" class="form-control" id="floatingFechaInicio"
                placeholder="Fecha de inicio" name="fechaInicio">
            <label for="floatingFechaInicio">Fecha de inicio</label>
        </div>

        <div class="form-floating mb-3" style="width: 47%;">
            <input [(ngModel)]="formTreatment.fechaFin" type="date" class="form-control" id="floatingFechaFin"
                placeholder="Fecha de fin" name="fechaFin">
            <label for="floatingFechaFin">Fecha de fin</label>
        </div>
    </div>

    <div class="form-floating mb-3">
        <select [(ngModel)]="formTreatment.droga" class="form-control" style="height: 70px;" id="floatingDroga" name="droga">
            <option value="" disabled selected>Seleccione una droga</option>
            <option *ngFor="let droga of drogas" [ngValue]="droga">{{ droga.nombre }}</option>
        </select>
        <label for="floatingDroga">Droga</label>
    </div>
    
    <!-- Mostrar el nombre de la droga seleccionada -->
    <div *ngIf="formTreatment.droga">
        <p>Droga actual: {{ formTreatment.droga.nombre }}</p>
    </div>

    <div class="mn-center-row">
        <button (click)="pageBack()" class="btn btn-danger">
            Volver
        </button>
        <button type="submit" [disabled]="!petForm.form.valid" class="btn btn-primary">{{ operation | titlecase }}</button>
    </div>

</form>
